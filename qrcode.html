<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- ... (your existing head content) -->
        <link rel="stylesheet" href="/src/styles/qrcode-style.css" />
        <title>QR Code</title>
    </head>
    <body>
        <header>
            <a href="/" class="logo-container">
                <img
                    src="/logo-qr-generator.svg"
                    alt="logo qr generator"
                    class="logo"
                />
            </a>
        </header>
        <main>
            <div class="qr-container">
                <div id="qrcode"></div>
            </div>
            <div class="buttons">
                <button class="download">
                    Download
                    <svg
                        width="25px"
                        height="25px"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M15.3223 12.1391C14.9082 12.1312 14.5661 12.4606 14.5582 12.8747C14.5503 13.2889 14.8796 13.631 15.2938 13.6389L15.3223 12.1391ZM18.5256 16.313L17.7756 16.2996V16.313H18.5256ZM18.5256 16.576H17.7754L17.7757 16.5894L18.5256 16.576ZM15.3081 20V20.75C15.3128 20.75 15.3176 20.75 15.3223 20.7499L15.3081 20ZM8.09306 20L8.07878 20.7499C8.08354 20.75 8.0883 20.75 8.09306 20.75L8.09306 20ZM4.87556 16.576L5.62556 16.5894V16.576H4.87556ZM4.87556 16.313H5.62568L5.62544 16.2996L4.87556 16.313ZM8.10734 13.6389C8.52148 13.631 8.85081 13.2889 8.84293 12.8747C8.83504 12.4606 8.49292 12.1312 8.07878 12.1391L8.10734 13.6389ZM14.3147 16.1324C14.633 15.8673 14.6762 15.3944 14.4112 15.0761C14.1462 14.7578 13.6733 14.7146 13.3549 14.9796L14.3147 16.1324ZM11.2207 16.7566C10.9023 17.0217 10.8592 17.4946 11.1242 17.8129C11.3892 18.1312 11.8621 18.1744 12.1805 17.9094L11.2207 16.7566ZM11.2204 17.9092C11.5386 18.1743 12.0115 18.1314 12.2767 17.8131C12.5419 17.4949 12.4989 17.022 12.1807 16.7568L11.2204 17.9092ZM10.0484 14.9798C9.73018 14.7147 9.25726 14.7576 8.99208 15.0759C8.7269 15.3941 8.76988 15.867 9.08809 16.1322L10.0484 14.9798ZM10.9506 17.333C10.9506 17.7472 11.2863 18.083 11.7006 18.083C12.1148 18.083 12.4506 17.7472 12.4506 17.333H10.9506ZM12.4506 4C12.4506 3.58579 12.1148 3.25 11.7006 3.25C11.2863 3.25 10.9506 3.58579 10.9506 4H12.4506ZM15.2938 13.6389C16.6725 13.6651 17.8018 14.8388 17.7757 16.2996L19.2754 16.3264C19.3157 14.0739 17.5641 12.1818 15.3223 12.1391L15.2938 13.6389ZM17.7756 16.313V16.576H19.2756V16.313H17.7756ZM17.7757 16.5894C17.8018 18.0502 16.6725 19.2239 15.2938 19.2501L15.3223 20.7499C17.5641 20.7072 19.3157 18.8151 19.2754 16.5626L17.7757 16.5894ZM15.3081 19.25H8.09306V20.75H15.3081V19.25ZM8.10734 19.2501C6.72861 19.2239 5.59936 18.0502 5.62544 16.5894L4.12568 16.5626C4.08546 18.8151 5.83699 20.7072 8.07878 20.7499L8.10734 19.2501ZM5.62556 16.576V16.313H4.12556V16.576H5.62556ZM5.62544 16.2996C5.59936 14.8388 6.72861 13.6651 8.10734 13.6389L8.07878 12.1391C5.83699 12.1818 4.08546 14.0739 4.12568 16.3264L5.62544 16.2996ZM13.3549 14.9796L11.2207 16.7566L12.1805 17.9094L14.3147 16.1324L13.3549 14.9796ZM12.1807 16.7568L10.0484 14.9798L9.08809 16.1322L11.2204 17.9092L12.1807 16.7568ZM12.4506 17.333V4H10.9506V17.333H12.4506Z"
                            fill="#fff"
                        />
                    </svg>
                </button>
                <button class="copy">
                    Share
                    <svg
                        width="20px"
                        height="20px"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M19.7388 4.26118C17.0572 1.57961 12.7095 1.57961 10.0279 4.26118L9.30707 4.98203C9.01418 5.27492 9.01418 5.7498 9.30707 6.04269C9.59997 6.33558 10.0748 6.33558 10.3677 6.04269L11.0886 5.32184C13.1844 3.22605 16.5823 3.22605 18.6781 5.32184C20.7739 7.41763 20.7739 10.8156 18.6781 12.9114L17.9573 13.6322C17.6644 13.9251 17.6644 14.4 17.9573 14.6929C18.2502 14.9858 18.725 14.9858 19.0179 14.6929L19.7388 13.972C22.4203 11.2905 22.4203 6.94276 19.7388 4.26118Z"
                            fill="#fff"
                        />
                        <path
                            d="M6.04269 9.30707C6.33558 9.59997 6.33558 10.0748 6.04269 10.3677L5.32184 11.0886C3.22605 13.1844 3.22605 16.5823 5.32184 18.6781C7.41763 20.7739 10.8156 20.7739 12.9114 18.6781L13.6322 17.9573C13.9251 17.6644 14.4 17.6644 14.6929 17.9573C14.9858 18.2501 14.9858 18.725 14.6929 19.0179L13.972 19.7388C11.2905 22.4203 6.94276 22.4203 4.26118 19.7388C1.57961 17.0572 1.57961 12.7095 4.26118 10.0279L4.98203 9.30707C5.27492 9.01418 5.7498 9.01418 6.04269 9.30707Z"
                            fill="#fff"
                        />
                        <path
                            d="M14.6928 9.30707C14.9857 9.59997 14.9857 10.0748 14.6928 10.3677L10.3677 14.6928C10.0748 14.9857 9.59997 14.9857 9.30707 14.6928C9.01418 14.3999 9.01418 13.9251 9.30707 13.6322L13.6322 9.30707C13.9251 9.01418 14.3999 9.01418 14.6928 9.30707Z"
                            fill="#fff"
                        />
                    </svg>
                </button>
            </div>
        </main>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const storedUrl = sessionStorage.getItem("url");

                if (storedUrl) {
                    const downloadButton = document.querySelector(".download");
                    const copyButton = document.querySelector(".copy");

                    const qrCode = new QRCode("qrcode", {
                        width: 150,
                        height: 150,
                        colorDark: "#000000",
                        colorLight: "#ffffff",
                        correctLevel: QRCode.CorrectLevel.H,
                    });

                    qrCode.makeCode(storedUrl);

                    downloadButton.addEventListener("click", () => {
                        const qrCodeCanvas =
                            document.querySelector("#qrcode canvas");

                        // Create a download link for the QR code image
                        const downloadLink = document.createElement("a");
                        downloadLink.href = qrCodeCanvas.toDataURL("image/png");
                        downloadLink.download = "qrcode.png";
                        downloadLink.click();
                    });

                    copyButton.addEventListener("click", () => {
                        navigator.clipboard.writeText(storedUrl);
                    });
                } else {
                    const mainElement = document.querySelector("main");

                    mainElement.innerHTML = `
        <h1>There's no URL stored</h1>
        <a href="/">Go back to the form</a>
    `;
                }
            });
        </script>
        <script src="/src/js/qrcode.js"></script>
        <script src="/src/js/qrcode.min.js"></script>
    </body>
</html>
